{"ast":null,"code":"import _classCallCheck from\"/home/dilip/Desktop/iuvdx-core/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/dilip/Desktop/iuvdx-core/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"/home/dilip/Desktop/iuvdx-core/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/home/dilip/Desktop/iuvdx-core/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/dilip/Desktop/iuvdx-core/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import'./StreamComponent.css';var OvVideoComponent=/*#__PURE__*/function(_Component){_inherits(OvVideoComponent,_Component);var _super=_createSuper(OvVideoComponent);function OvVideoComponent(props){var _this;_classCallCheck(this,OvVideoComponent);_this=_super.call(this,props);_this.videoRef=React.createRef();_this.toggleFullscreen=_this.toggleFullscreen.bind(_assertThisInitialized(_this));return _this;}_createClass(OvVideoComponent,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;if(this.props&&this.props.user.streamManager&&!!this.videoRef){console.log('PROPS: ',this.props);this.props.user.getStreamManager().addVideoElement(this.videoRef.current);}if(this.props&&this.props.user.streamManager.session&&this.props.user&&!!this.videoRef){this.props.user.streamManager.session.on('signal:userChanged',function(event){var data=JSON.parse(event.data);if(data.isScreenShareActive!==undefined){_this2.props.user.getStreamManager().addVideoElement(_this2.videoRef.current);}});}}},{key:\"componentDidUpdate\",value:function componentDidUpdate(props){if(props&&!!this.videoRef){this.props.user.getStreamManager().addVideoElement(this.videoRef.current);}}},{key:\"toggleFullscreen\",value:function toggleFullscreen(){var document=window.document;var fs=document.getElementById('video-'+this.props.user.getStreamManager().stream.streamId);if(!document.fullscreenElement&&!document.mozFullScreenElement&&!document.webkitFullscreenElement&&!document.msFullscreenElement){if(fs.requestFullscreen){fs.requestFullscreen();}else if(fs.msRequestFullscreen){fs.msRequestFullscreen();}else if(fs.mozRequestFullScreen){fs.mozRequestFullScreen();}else if(fs.webkitRequestFullscreen){fs.webkitRequestFullscreen();}}else{if(document.exitFullscreen){document.exitFullscreen();}else if(document.msExitFullscreen){document.msExitFullscreen();}else if(document.mozCancelFullScreen){document.mozCancelFullScreen();}else if(document.webkitExitFullscreen){document.webkitExitFullscreen();}}}},{key:\"render\",value:function render(){return/*#__PURE__*/React.createElement(\"video\",{controls:true,autoPlay:true,id:'video-'+this.props.user.getStreamManager().stream.streamId,ref:this.videoRef,muted:this.props.mutedSound,onDoubleClick:this.toggleFullscreen});}}]);return OvVideoComponent;}(Component);export{OvVideoComponent as default};","map":{"version":3,"sources":["/home/dilip/Desktop/iuvdx-core/client/src/components/stream/OvVideo.js"],"names":["React","Component","OvVideoComponent","props","videoRef","createRef","toggleFullscreen","bind","user","streamManager","console","log","getStreamManager","addVideoElement","current","session","on","event","data","JSON","parse","isScreenShareActive","undefined","document","window","fs","getElementById","stream","streamId","fullscreenElement","mozFullScreenElement","webkitFullscreenElement","msFullscreenElement","requestFullscreen","msRequestFullscreen","mozRequestFullScreen","webkitRequestFullscreen","exitFullscreen","msExitFullscreen","mozCancelFullScreen","webkitExitFullscreen","mutedSound"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport './StreamComponent.css';\n\nexport default class OvVideoComponent extends Component {\n    constructor(props) {\n        super(props);\n        this.videoRef = React.createRef();\n        this.toggleFullscreen = this.toggleFullscreen.bind(this);\n    }\n\n    componentDidMount() {\n        if (this.props && this.props.user.streamManager && !!this.videoRef) {\n            console.log('PROPS: ', this.props);\n            this.props.user.getStreamManager().addVideoElement(this.videoRef.current);\n        }\n\n        if (this.props && this.props.user.streamManager.session && this.props.user && !!this.videoRef) {\n            this.props.user.streamManager.session.on('signal:userChanged', (event) => {\n                const data = JSON.parse(event.data);\n                if (data.isScreenShareActive !== undefined) {\n                    this.props.user.getStreamManager().addVideoElement(this.videoRef.current);\n                }\n            });\n        }\n    }\n\n    componentDidUpdate(props) {\n        if (props && !!this.videoRef) {\n            this.props.user.getStreamManager().addVideoElement(this.videoRef.current);\n        }\n    }\n\n    toggleFullscreen() {\n        const document = window.document;\n        const fs = document.getElementById('video-' + this.props.user.getStreamManager().stream.streamId);\n        if (\n            !document.fullscreenElement &&\n            !document.mozFullScreenElement &&\n            !document.webkitFullscreenElement &&\n            !document.msFullscreenElement\n        ) {\n            if (fs.requestFullscreen) {\n                fs.requestFullscreen();\n            } else if (fs.msRequestFullscreen) {\n                fs.msRequestFullscreen();\n            } else if (fs.mozRequestFullScreen) {\n                fs.mozRequestFullScreen();\n            } else if (fs.webkitRequestFullscreen) {\n                fs.webkitRequestFullscreen();\n            }\n        } else {\n            if (document.exitFullscreen) {\n                document.exitFullscreen();\n            } else if (document.msExitFullscreen) {\n                document.msExitFullscreen();\n            } else if (document.mozCancelFullScreen) {\n                document.mozCancelFullScreen();\n            } else if (document.webkitExitFullscreen) {\n                document.webkitExitFullscreen();\n            }\n        }\n    }\n\n    render() {\n        return (\n            <video\n                controls\n                autoPlay={true}\n                id={'video-' + this.props.user.getStreamManager().stream.streamId}\n                ref={this.videoRef}\n                muted={this.props.mutedSound}\n                onDoubleClick={this.toggleFullscreen}\n            />\n        );\n    }\n}\n"]},"metadata":{},"sourceType":"module"}