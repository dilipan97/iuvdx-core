{"ast":null,"code":"import _createForOfIteratorHelper from \"/home/dilip/Desktop/iuvdx-core-old/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper\";\nimport _toConsumableArray from \"/home/dilip/Desktop/iuvdx-core-old/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _slicedToArray from \"/home/dilip/Desktop/iuvdx-core-old/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport _objectSpread from \"/home/dilip/Desktop/iuvdx-core-old/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\n\nvar _this = this,\n    _jsxFileName = \"/home/dilip/Desktop/iuvdx-core-old/client/src/components/ipcam-server/IpcamServerComponent.js\";\n\nimport React, { useState } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Modal from '@material-ui/core/Modal';\nimport Button from '@material-ui/core/Button';\nimport TextField from '@material-ui/core/TextField';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport Paper from '@material-ui/core/Paper';\nimport Divider from \"@material-ui/core/Divider\";\nimport Typography from '@material-ui/core/Typography';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport FormControl from '@material-ui/core/FormControl';\nimport Select from '@material-ui/core/Select';\n\nfunction getModalStyle() {\n  var top = 50;\n  var left = 50;\n  return {\n    top: \"\".concat(top, \"%\"),\n    left: \"\".concat(left, \"%\"),\n    transform: \"translate(-\".concat(top, \"%, -\").concat(left, \"%)\")\n  };\n}\n\nvar useStyles = makeStyles(function (theme) {\n  return {\n    paper: {\n      outline: 'none',\n      position: 'absolute',\n      width: 700,\n      backgroundColor: theme.palette.background.paper,\n      padding: theme.spacing(4, 4, 4)\n    },\n    container: {\n      maxHeight: 400\n    },\n    btn: {\n      marginLeft: 30\n    },\n    title: _objectSpread(_objectSpread({\n      display: \"flex\",\n      alignItems: \"center\",\n      padding: theme.spacing(0, 1)\n    }, theme.mixins.toolbar), {}, {\n      justifyContent: \"flex-start\"\n    })\n  };\n}); // assigning unique id for each camera\n\nvar rowId = 4; // contains already connected cameras  \n\nvar connectedCameras = [];\n\nvar IpcamServerComponent = function IpcamServerComponent(props) {\n  var classes = useStyles(); // getModalStyle is not a pure function, we roll the style only on the first render\n\n  var _useState = useState(getModalStyle),\n      _useState2 = _slicedToArray(_useState, 1),\n      modalStyle = _useState2[0]; // newly added cameras will go into tableRows\n\n\n  var _useState3 = useState([// {id:0, cam:'Russian building', ip:'rtsp://195.46.114.132/live/ch00_0', del:false, err:false},\n    // {id:1, cam:'Wickenburg, Arizona', ip:'rtsp://98.163.61.242/live/ch00_0', del:false, err:false},\n    // {id:2, cam:'City', ip:'rtsp://91.191.213.49:554/live_mpeg4.sdp', del:false, err:false},\n    // {id:3, cam:'Hessdalen', ip:'rtsp://freja.hiof.no:1935/rtplive/definst/hessdalen03.stream', del:false, err:false}\n  ]),\n      _useState4 = _slicedToArray(_useState3, 2),\n      tableRows = _useState4[0],\n      setTableRows = _useState4[1]; // deleted cameras is stored in this variable\n\n\n  var _useState5 = useState([]),\n      _useState6 = _slicedToArray(_useState5, 2),\n      deleteCam = _useState6[0],\n      setDeleteCam = _useState6[1];\n\n  var handleClose = function handleClose() {\n    props.setClose();\n  }; // function to handle checkbox onchecked validation\n\n\n  var handleChecked = function handleChecked(idx) {\n    return function (e) {\n      // changes the checked value status\n      var trows = _toConsumableArray(tableRows);\n\n      trows[idx] = {\n        id: trows[idx].id,\n        cam: trows[idx].cam !== '' ? trows[idx].cam : '',\n        ip: trows[idx].ip !== '' ? trows[idx].ip : '',\n        del: e.target.checked,\n        err: trows[idx].err\n      };\n      setTableRows(trows); // cameras added to list if the box is checked\n\n      if (e.target.checked) {\n        setDeleteCam([].concat(_toConsumableArray(deleteCam), [tableRows[idx].id]));\n      } else {\n        var index = deleteCam.indexOf(tableRows[idx].id);\n\n        if (index > -1) {\n          deleteCam.splice(index, 1);\n        }\n\n        setDeleteCam(deleteCam);\n      }\n    };\n  }; // disconnects all the selected cameras from the session\n\n\n  var deleteSelectedCam = function deleteSelectedCam() {\n    var camToDelete = []; // validates the cameras that are to be deleted\n\n    var _iterator = _createForOfIteratorHelper(deleteCam),\n        _step;\n\n    try {\n      var _loop = function _loop() {\n        var id = _step.value;\n        var index = tableRows.findIndex(function (val) {\n          return val.id === id;\n        });\n\n        if (tableRows[index].cam !== '' && tableRows[index].ip !== '') {\n          camToDelete.push(tableRows[index].cam);\n          var indx = connectedCameras.indexOf(id); // removing cameras from already connected camera list\n\n          if (indx > -1) {\n            connectedCameras.splice(indx, 1);\n          }\n        }\n\n        tableRows.splice(index, 1);\n        setTableRows(tableRows);\n      };\n\n      for (_iterator.s(); !(_step = _iterator.n()).done;) {\n        _loop();\n      } // call for diconnecting the cameras \n\n    } catch (err) {\n      _iterator.e(err);\n    } finally {\n      _iterator.f();\n    }\n\n    if (camToDelete.length > 0) {\n      props.removeCam(camToDelete);\n    }\n\n    setDeleteCam([]);\n  }; // establishes connection for the cameras\n\n\n  var connectSelectedCam = function connectSelectedCam() {\n    var camToConnect = []; // adds only the cameras that are not already connected\n\n    var _iterator2 = _createForOfIteratorHelper(tableRows),\n        _step2;\n\n    try {\n      for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n        var val = _step2.value;\n\n        if (!val.err && !connectedCameras.includes(val.id)) {\n          if (val.cam !== '' && val.ip !== '') {\n            camToConnect.push(val);\n            connectedCameras.push(val.id);\n          }\n        }\n      } // call for establishing connection\n\n    } catch (err) {\n      _iterator2.e(err);\n    } finally {\n      _iterator2.f();\n    }\n\n    if (camToConnect.length > 0) {\n      props.getToken(camToConnect);\n    }\n  }; // adds new row to the table\n\n\n  var handleAddRow = function handleAddRow() {\n    var item = {\n      id: rowId,\n      cam: '',\n      ip: '',\n      del: false,\n      err: false\n    };\n    rowId++;\n    setTableRows([].concat(_toConsumableArray(tableRows), [item]));\n  }; // remove all the rows that are empty\n\n\n  var handleRemoveRow = function handleRemoveRow() {\n    var nonEmptyRows = tableRows.filter(function (val) {\n      return val.cam !== '' && val.ip !== '';\n    });\n    setTableRows(nonEmptyRows);\n  }; // handle changes while modifying details in the table\n\n\n  var handleChange = function handleChange(idx) {\n    return function (e) {\n      var _e$target = e.target,\n          name = _e$target.name,\n          value = _e$target.value;\n\n      var rows = _toConsumableArray(tableRows); // adds the camera name\n\n\n      if (name === 'cam') {\n        rows[idx] = {\n          id: rows[idx].id,\n          [name]: value,\n          ip: rows[idx].ip !== '' ? rows[idx].ip : '',\n          del: rows[idx].del ? true : false,\n          err: value !== '' && rows.find(function (val) {\n            return val.cam === value;\n          })\n        };\n      } else {\n        // adds the camera rstp url\n        rows[idx] = {\n          id: rows[idx].id,\n          cam: rows[idx].cam !== '' ? rows[idx].cam : '',\n          [name]: value,\n          del: rows[idx].del ? true : false,\n          err: rows[idx].err\n        };\n      }\n\n      setTableRows(rows);\n    };\n  }; // function to the render dynamic table\n\n\n  var renderTable = function renderTable() {\n    return tableRows.map(function (rows, idx) {\n      return /*#__PURE__*/React.createElement(TableRow, {\n        key: idx,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 212,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(TableCell, {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 214,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(TextField, {\n        error: tableRows[idx].err ? true : false,\n        disabled: tableRows[idx].err ? true : false,\n        label: \"Video url\",\n        name: \"ip\",\n        variant: \"outlined\",\n        value: tableRows[idx].ip,\n        onChange: handleChange(idx),\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 215,\n          columnNumber: 13\n        }\n      })), /*#__PURE__*/React.createElement(TableCell, {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 218,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(TextField, {\n        error: tableRows[idx].err ? true : false,\n        label: \"Name\",\n        name: \"cam\",\n        variant: \"outlined\",\n        helperText: tableRows[idx].err ? 'Duplicate camera name' : '',\n        value: tableRows[idx].cam,\n        onChange: handleChange(idx),\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 219,\n          columnNumber: 13\n        }\n      })), /*#__PURE__*/React.createElement(TableCell, {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 222,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(FormControl, {\n        className: classes.formControl,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 223,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(InputLabel, {\n        htmlFor: \"age-native-simple\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 224,\n          columnNumber: 17\n        }\n      }, \"Age\"), /*#__PURE__*/React.createElement(Select, {\n        native: true,\n        value: state.age,\n        onChange: handleChange,\n        inputProps: {\n          name: 'age',\n          id: 'age-native-simple'\n        },\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 225,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"option\", {\n        \"aria-label\": \"None\",\n        value: \"\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 234,\n          columnNumber: 17\n        }\n      }), /*#__PURE__*/React.createElement(\"option\", {\n        value: 10,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 235,\n          columnNumber: 17\n        }\n      }, \"Rtsp to Rtp\"), /*#__PURE__*/React.createElement(\"option\", {\n        value: 20,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 236,\n          columnNumber: 17\n        }\n      }, \"Rtsp to Rtsp\")))), /*#__PURE__*/React.createElement(TableCell, {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 240,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(Checkbox, {\n        indeterminate: true,\n        inputProps: {\n          'aria-label': 'indeterminate checkbox'\n        },\n        checked: tableRows[idx].del,\n        onChange: handleChecked(idx),\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 241,\n          columnNumber: 12\n        }\n      })));\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 249,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Modal, {\n    open: props.open,\n    onClose: handleClose,\n    \"aria-labelledby\": \"simple-modal-title\",\n    \"aria-describedby\": \"simple-modal-description\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 250,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: modalStyle,\n    className: classes.paper,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 257,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Typography, {\n    variant: \"h4\",\n    className: classes.title,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 258,\n      columnNumber: 11\n    }\n  }, \"Subscribe to IP Cameras\"), /*#__PURE__*/React.createElement(Divider, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 261,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 262,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(Button, {\n    variant: \"contained\",\n    color: \"primary\",\n    onClick: connectSelectedCam,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 263,\n      columnNumber: 11\n    }\n  }, \"Connect\"), /*#__PURE__*/React.createElement(Button, {\n    className: classes.btn,\n    variant: \"contained\",\n    color: \"secondary\",\n    onClick: deleteSelectedCam,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 266,\n      columnNumber: 11\n    }\n  }, \"Disconnect\"), /*#__PURE__*/React.createElement(\"br\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 269,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 270,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(TableContainer, {\n    component: Paper,\n    className: classes.container,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 271,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Table, {\n    className: classes.table,\n    \"aria-label\": \"simple table\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 272,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"colgroup\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 273,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"col\", {\n    style: {\n      width: '50%'\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 274,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(\"col\", {\n    style: {\n      width: '20%'\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 275,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(\"col\", {\n    style: {\n      width: '25%'\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 276,\n      columnNumber: 21\n    }\n  })), /*#__PURE__*/React.createElement(TableHead, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 278,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(TableRow, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 279,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(TableCell, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 280,\n      columnNumber: 21\n    }\n  }, \"Video Url\"), /*#__PURE__*/React.createElement(TableCell, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 281,\n      columnNumber: 21\n    }\n  }, \"Port\"), /*#__PURE__*/React.createElement(TableCell, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 282,\n      columnNumber: 21\n    }\n  }, \"type\"), /*#__PURE__*/React.createElement(TableCell, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 283,\n      columnNumber: 21\n    }\n  }, \"Remove\"))), /*#__PURE__*/React.createElement(TableBody, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 286,\n      columnNumber: 15\n    }\n  }, renderTable()))), /*#__PURE__*/React.createElement(\"br\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 291,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(Button, {\n    variant: \"outlined\",\n    color: \"primary\",\n    onClick: handleAddRow,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 292,\n      columnNumber: 13\n    }\n  }, \"Add Row\"), /*#__PURE__*/React.createElement(Button, {\n    className: classes.btn,\n    variant: \"outlined\",\n    color: \"secondary\",\n    onClick: handleRemoveRow,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 295,\n      columnNumber: 13\n    }\n  }, \"Delete Empty Rows\"))));\n};\n\nexport default IpcamServerComponent;","map":{"version":3,"sources":["/home/dilip/Desktop/iuvdx-core-old/client/src/components/ipcam-server/IpcamServerComponent.js"],"names":["React","useState","makeStyles","Modal","Button","TextField","Table","TableBody","TableCell","TableContainer","TableHead","TableRow","Paper","Divider","Typography","Checkbox","InputLabel","MenuItem","FormControl","Select","getModalStyle","top","left","transform","useStyles","theme","paper","outline","position","width","backgroundColor","palette","background","padding","spacing","container","maxHeight","btn","marginLeft","title","display","alignItems","mixins","toolbar","justifyContent","rowId","connectedCameras","IpcamServerComponent","props","classes","modalStyle","tableRows","setTableRows","deleteCam","setDeleteCam","handleClose","setClose","handleChecked","idx","e","trows","id","cam","ip","del","target","checked","err","index","indexOf","splice","deleteSelectedCam","camToDelete","findIndex","val","push","indx","length","removeCam","connectSelectedCam","camToConnect","includes","getToken","handleAddRow","item","handleRemoveRow","nonEmptyRows","filter","handleChange","name","value","rows","find","renderTable","map","formControl","state","age","open","table"],"mappings":"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","sourcesContent":["import React,{useState} from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Modal from '@material-ui/core/Modal';\nimport Button from '@material-ui/core/Button'\nimport TextField from '@material-ui/core/TextField'\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport Paper from '@material-ui/core/Paper';\nimport Divider from \"@material-ui/core/Divider\";\nimport Typography from '@material-ui/core/Typography';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport FormControl from '@material-ui/core/FormControl';\nimport Select from '@material-ui/core/Select';\n\nfunction getModalStyle() {\n  const top = 50;\n  const left = 50;\n\n  return {\n    top: `${top}%`,\n    left: `${left}%`,\n    transform: `translate(-${top}%, -${left}%)`,\n  };\n}\n\nconst useStyles = makeStyles((theme) => ({\n  paper: {\n    outline: 'none',\n    position: 'absolute',\n    width: 700,\n    backgroundColor: theme.palette.background.paper,\n    padding: theme.spacing(4, 4, 4),\n  },\n  container: {\n    maxHeight: 400,\n  },\n  btn: {\n    marginLeft: 30,\n  },\n  title: {\n    display: \"flex\",\n    alignItems: \"center\",\n    padding: theme.spacing(0, 1), ...theme.mixins.toolbar,\n    justifyContent: \"flex-start\"\n  }\n}));\n\n// assigning unique id for each camera\nlet rowId = 4;\n\n// contains already connected cameras  \nlet connectedCameras = [];\n\nconst IpcamServerComponent =(props) =>{\n\n  const classes = useStyles();\n  // getModalStyle is not a pure function, we roll the style only on the first render\n  const [modalStyle] = useState(getModalStyle);\n\n  // newly added cameras will go into tableRows\n  const [tableRows, setTableRows] = useState([\n    // {id:0, cam:'Russian building', ip:'rtsp://195.46.114.132/live/ch00_0', del:false, err:false},\n    // {id:1, cam:'Wickenburg, Arizona', ip:'rtsp://98.163.61.242/live/ch00_0', del:false, err:false},\n    // {id:2, cam:'City', ip:'rtsp://91.191.213.49:554/live_mpeg4.sdp', del:false, err:false},\n    // {id:3, cam:'Hessdalen', ip:'rtsp://freja.hiof.no:1935/rtplive/definst/hessdalen03.stream', del:false, err:false}\n  ]);\n\n  // deleted cameras is stored in this variable\n  const [deleteCam, setDeleteCam] = useState([]);\n\n  const handleClose = () => {\n    props.setClose();\n  };\n\n  // function to handle checkbox onchecked validation\n  const handleChecked = (idx) => (e) => {\n\n    // changes the checked value status\n    const trows = [...tableRows];\n    trows[idx] = {\n      id: trows[idx].id,\n      cam: trows[idx].cam !== ''? trows[idx].cam: '',\n      ip: trows[idx].ip !== ''? trows[idx].ip: '',\n      del: e.target.checked,\n      err: trows[idx].err\n    }\n    setTableRows(trows);\n\n    // cameras added to list if the box is checked\n    if(e.target.checked) {\n      setDeleteCam([...deleteCam, tableRows[idx].id])\n    }\n    else {\n\n      const index = deleteCam.indexOf(tableRows[idx].id);\n      if(index > -1) {\n        deleteCam.splice(index, 1);\n      }\n      setDeleteCam(deleteCam);\n    }\n  }\n\n  // disconnects all the selected cameras from the session\n  const deleteSelectedCam = () => {\n\n    const camToDelete = [];\n    \n    // validates the cameras that are to be deleted\n    for(const id of deleteCam) {\n\n      const index = tableRows.findIndex(val => val.id === id);\n      if(tableRows[index].cam !== '' && tableRows[index].ip !== '') {\n        \n        camToDelete.push(tableRows[index].cam);\n        let indx = connectedCameras.indexOf(id);\n\n        // removing cameras from already connected camera list\n        if (indx > -1) {\n          connectedCameras.splice(indx, 1);\n        }\n      }\n      tableRows.splice(index, 1);\n      setTableRows(tableRows);\n    }\n\n    // call for diconnecting the cameras \n    if(camToDelete.length > 0) {\n      props.removeCam(camToDelete);\n    }\n\n    setDeleteCam([]);\n  }\n\n  // establishes connection for the cameras\n  const connectSelectedCam = () => {\n\n    let camToConnect = [];\n\n    // adds only the cameras that are not already connected\n    for(const val of tableRows) {\n      if(!val.err && !connectedCameras.includes(val.id)) {\n        if(val.cam !== '' && val.ip !== '') {\n          camToConnect.push(val);\n          connectedCameras.push(val.id);\n        }\n      }\n    }\n\n    // call for establishing connection\n    if(camToConnect.length > 0) {\n      props.getToken(camToConnect);\n    }\n  }\n\n  // adds new row to the table\n  const handleAddRow = () => {\n    const item = {\n      id  : rowId,\n      cam : '',\n      ip  : '',\n      del : false,\n      err : false\n    };\n    rowId++;\n    setTableRows([...tableRows, item]);\n  };\n\n  // remove all the rows that are empty\n  const handleRemoveRow = () => {\n    const nonEmptyRows = tableRows.filter(val => val.cam !== '' && val.ip !== '');\n    setTableRows(nonEmptyRows)\n  };\n\n  // handle changes while modifying details in the table\n  const handleChange = (idx) => (e) => {\n\n    const { name, value } = e.target;\n    const rows = [...tableRows];\n\n    // adds the camera name\n    if(name === 'cam') {\n      rows[idx] = {\n        id    : rows[idx].id,\n        [name]: value,\n        ip    : rows[idx].ip !== ''? rows[idx].ip: '',\n        del   : rows[idx].del? true: false,\n        err   : value !== '' && rows.find(val => val.cam === value)\n      }\n    }\n    else { // adds the camera rstp url\n      rows[idx] = {\n        id    : rows[idx].id,\n        cam   : rows[idx].cam !== ''? rows[idx].cam: '',\n        [name]: value,\n        del   : rows[idx].del? true: false,\n        err   : rows[idx].err\n      }\n    }\n    setTableRows(rows);\n  };\n\n  // function to the render dynamic table\n  const renderTable = () => {\n    return tableRows.map((rows, idx) => {\n      return (\n        <TableRow key={idx}>\n          \n          <TableCell>\n            <TextField error={tableRows[idx].err? true: false} disabled={tableRows[idx].err? true: false} label=\"Video url\" name=\"ip\" variant=\"outlined\" \n              value={tableRows[idx].ip} onChange={handleChange(idx)}/>\n          </TableCell>\n          <TableCell>\n            <TextField error={tableRows[idx].err? true: false} label=\"Name\" name=\"cam\" variant=\"outlined\" helperText={tableRows[idx].err?'Duplicate camera name':''} \n              value={tableRows[idx].cam} onChange={handleChange(idx)}/>\n          </TableCell>\n          <TableCell>\n            <FormControl className={classes.formControl}>\n                <InputLabel htmlFor=\"age-native-simple\">Age</InputLabel>\n                <Select\n                native\n                value={state.age}\n                onChange={handleChange}\n                inputProps={{\n                    name: 'age',\n                    id: 'age-native-simple',\n                }}\n                >\n                <option aria-label=\"None\" value=\"\" />\n                <option value={10}>Rtsp to Rtp</option>\n                <option value={20}>Rtsp to Rtsp</option>\n                </Select>\n            </FormControl>\n          </TableCell>\n          <TableCell>\n           <Checkbox  indeterminate inputProps={{ 'aria-label': 'indeterminate checkbox' }}  checked={tableRows[idx].del} onChange={handleChecked(idx)}/>\n          </TableCell>\n        </TableRow>\n      )\n    })\n  }\n\n  return (\n    <div>\n      <Modal\n        open={props.open}\n        onClose={handleClose}\n        aria-labelledby=\"simple-modal-title\"\n        aria-describedby=\"simple-modal-description\"\n      >\n       \n        <div style={modalStyle} className={classes.paper}>\n          <Typography variant=\"h4\" className={classes.title} >\n            Subscribe to IP Cameras\n          </Typography>\n          <Divider />\n          <br/>\n          <Button variant=\"contained\" color=\"primary\" onClick={connectSelectedCam}>\n            Connect\n          </Button>\n          <Button className={classes.btn} variant=\"contained\" color=\"secondary\" onClick={deleteSelectedCam}>\n            Disconnect\n          </Button>\n          <br/>\n          <br/>\n          <TableContainer component={Paper} className={classes.container}>\n            <Table className={classes.table} aria-label=\"simple table\">\n                <colgroup>\n                    <col style={{width:'50%'}}/>\n                    <col style={{width:'20%'}}/>\n                    <col style={{width:'25%'}}/>\n                </colgroup>\n                <TableHead>\n                    <TableRow>\n                    <TableCell>Video Url</TableCell>\n                    <TableCell>Port</TableCell>\n                    <TableCell>type</TableCell>\n                    <TableCell>Remove</TableCell>\n                    </TableRow>\n                </TableHead>\n              <TableBody>\n                {renderTable()}\n              </TableBody>\n            </Table>\n          </TableContainer>\n            <br/>\n            <Button variant=\"outlined\" color=\"primary\" onClick={handleAddRow}>\n              Add Row\n            </Button>\n            <Button className={classes.btn} variant=\"outlined\" color=\"secondary\" onClick={handleRemoveRow}>\n              Delete Empty Rows\n            </Button>\n        </div>\n      </Modal>\n    </div>\n  );\n}\nexport default IpcamServerComponent;"]},"metadata":{},"sourceType":"module"}