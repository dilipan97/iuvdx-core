{"ast":null,"code":"import _classCallCheck from\"/home/dilip/Desktop/iuvdx-core/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/dilip/Desktop/iuvdx-core/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"/home/dilip/Desktop/iuvdx-core/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/home/dilip/Desktop/iuvdx-core/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/dilip/Desktop/iuvdx-core/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import'./StreamComponent.css';import OvVideoComponent from'./OvVideo';import MicOff from'@material-ui/icons/MicOff';import VideocamOff from'@material-ui/icons/VideocamOff';import VolumeUp from'@material-ui/icons/VolumeUp';import VolumeOff from'@material-ui/icons/VolumeOff';import FormControl from'@material-ui/core/FormControl';import Input from'@material-ui/core/Input';import InputLabel from'@material-ui/core/InputLabel';import IconButton from'@material-ui/core/IconButton';import HighlightOff from'@material-ui/icons/HighlightOff';import FormHelperText from'@material-ui/core/FormHelperText';var StreamComponent=/*#__PURE__*/function(_Component){_inherits(StreamComponent,_Component);var _super=_createSuper(StreamComponent);function StreamComponent(props){var _this;_classCallCheck(this,StreamComponent);_this=_super.call(this,props);_this.state={nickname:_this.props.user.getNickname(),showForm:false,mutedSound:false,isFormValid:true};_this.handleChange=_this.handleChange.bind(_assertThisInitialized(_this));_this.handlePressKey=_this.handlePressKey.bind(_assertThisInitialized(_this));_this.toggleNicknameForm=_this.toggleNicknameForm.bind(_assertThisInitialized(_this));_this.toggleSound=_this.toggleSound.bind(_assertThisInitialized(_this));return _this;}_createClass(StreamComponent,[{key:\"handleChange\",value:function handleChange(event){this.setState({nickname:event.target.value});event.preventDefault();}},{key:\"toggleNicknameForm\",value:function toggleNicknameForm(){if(this.props.user.isLocal()){this.setState({showForm:!this.state.showForm});}}},{key:\"toggleSound\",value:function toggleSound(){this.setState({mutedSound:!this.state.mutedSound});}},{key:\"handlePressKey\",value:function handlePressKey(event){if(event.key==='Enter'){console.log(this.state.nickname);if(this.state.nickname.length>=3&&this.state.nickname.length<=20){this.props.handleNickname(this.state.nickname);this.toggleNicknameForm();this.setState({isFormValid:true});}else{this.setState({isFormValid:false});}}}},{key:\"render\",value:function render(){return/*#__PURE__*/React.createElement(\"div\",{className:\"OT_widget-container\"},/*#__PURE__*/React.createElement(\"div\",{className:\"pointer nickname\"},this.state.showForm?/*#__PURE__*/React.createElement(FormControl,{id:\"nicknameForm\"},/*#__PURE__*/React.createElement(IconButton,{color:\"inherit\",id:\"closeButton\",onClick:this.toggleNicknameForm},/*#__PURE__*/React.createElement(HighlightOff,null)),/*#__PURE__*/React.createElement(InputLabel,{htmlFor:\"name-simple\",id:\"label\"},\"Nickname\"),/*#__PURE__*/React.createElement(Input,{color:\"inherit\",id:\"input\",value:this.state.nickname,onChange:this.handleChange,onKeyPress:this.handlePressKey,required:true}),!this.state.isFormValid&&this.state.nickname.length<=3&&/*#__PURE__*/React.createElement(FormHelperText,{id:\"name-error-text\"},\"Nickname is too short!\"),!this.state.isFormValid&&this.state.nickname.length>=20&&/*#__PURE__*/React.createElement(FormHelperText,{id:\"name-error-text\"},\"Nickname is too long!\")):/*#__PURE__*/React.createElement(\"div\",{onClick:this.toggleNicknameForm},/*#__PURE__*/React.createElement(\"span\",{id:\"nickname\"},this.props.user.getNickname()),this.props.user.isLocal()&&/*#__PURE__*/React.createElement(\"span\",{id:\"\"},\" (edit)\"))),this.props.user!==undefined&&this.props.user.getStreamManager()!==undefined?/*#__PURE__*/React.createElement(\"div\",{className:\"streamComponent\"},/*#__PURE__*/React.createElement(OvVideoComponent,{user:this.props.user,mutedSound:this.state.mutedSound}),/*#__PURE__*/React.createElement(\"div\",{id:\"statusIcons\"},!this.props.user.isVideoActive()?/*#__PURE__*/React.createElement(\"div\",{id:\"camIcon\"},/*#__PURE__*/React.createElement(VideocamOff,{id:\"statusCam\"})):null,!this.props.user.isAudioActive()?/*#__PURE__*/React.createElement(\"div\",{id:\"micIcon\"},/*#__PURE__*/React.createElement(MicOff,{id:\"statusMic\"})):null),/*#__PURE__*/React.createElement(\"div\",null,!this.props.user.isLocal()&&/*#__PURE__*/React.createElement(IconButton,{id:\"volumeButton\",onClick:this.toggleSound},this.state.mutedSound?/*#__PURE__*/React.createElement(VolumeOff,{color:\"secondary\"}):/*#__PURE__*/React.createElement(VolumeUp,null)))):null);}}]);return StreamComponent;}(Component);export{StreamComponent as default};","map":{"version":3,"sources":["/home/dilip/Desktop/iuvdx-core/client/src/components/stream/StreamComponent.js"],"names":["React","Component","OvVideoComponent","MicOff","VideocamOff","VolumeUp","VolumeOff","FormControl","Input","InputLabel","IconButton","HighlightOff","FormHelperText","StreamComponent","props","state","nickname","user","getNickname","showForm","mutedSound","isFormValid","handleChange","bind","handlePressKey","toggleNicknameForm","toggleSound","event","setState","target","value","preventDefault","isLocal","key","console","log","length","handleNickname","undefined","getStreamManager","isVideoActive","isAudioActive"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport './StreamComponent.css';\nimport OvVideoComponent from './OvVideo';\n\nimport MicOff from '@material-ui/icons/MicOff';\nimport VideocamOff from '@material-ui/icons/VideocamOff';\nimport VolumeUp from '@material-ui/icons/VolumeUp';\nimport VolumeOff from '@material-ui/icons/VolumeOff';\nimport FormControl from '@material-ui/core/FormControl';\nimport Input from '@material-ui/core/Input';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport IconButton from '@material-ui/core/IconButton';\nimport HighlightOff from '@material-ui/icons/HighlightOff';\nimport FormHelperText from '@material-ui/core/FormHelperText';\n\nexport default class StreamComponent extends Component {\n    constructor(props) {\n        super(props);\n        this.state = { \n            nickname: this.props.user.getNickname(), \n            showForm: false, \n            mutedSound: false, \n            isFormValid: true \n        };\n        this.handleChange = this.handleChange.bind(this);\n        this.handlePressKey = this.handlePressKey.bind(this);\n        this.toggleNicknameForm = this.toggleNicknameForm.bind(this);\n        this.toggleSound = this.toggleSound.bind(this);\n    }\n\n    handleChange(event) {\n        this.setState({ nickname: event.target.value });\n        event.preventDefault();\n    }\n\n    toggleNicknameForm() {\n        if (this.props.user.isLocal()) {\n            this.setState({ showForm: !this.state.showForm });\n        }\n    }\n\n    toggleSound() {\n        this.setState({ mutedSound: !this.state.mutedSound });\n    }\n\n    handlePressKey(event) {\n        if (event.key === 'Enter') {\n            console.log(this.state.nickname);\n            if (this.state.nickname.length >= 3 && this.state.nickname.length <= 20) {\n                this.props.handleNickname(this.state.nickname);\n                this.toggleNicknameForm();\n                this.setState({ isFormValid: true });\n            } else {\n                this.setState({ isFormValid: false });\n            }\n        }\n    }\n\n    render() {\n        return (\n            <div className=\"OT_widget-container\">\n                <div className=\"pointer nickname\">\n                    {this.state.showForm ? (\n                        <FormControl id=\"nicknameForm\">\n                            <IconButton color=\"inherit\" id=\"closeButton\" onClick={this.toggleNicknameForm}>\n                                <HighlightOff />\n                            </IconButton>\n                            <InputLabel htmlFor=\"name-simple\" id=\"label\">\n                                Nickname\n                            </InputLabel>\n                            <Input\n                                color=\"inherit\"\n                                id=\"input\"\n                                value={this.state.nickname}\n                                onChange={this.handleChange}\n                                onKeyPress={this.handlePressKey}\n                                required\n                            />\n                            {!this.state.isFormValid && this.state.nickname.length <= 3 && (\n                                <FormHelperText id=\"name-error-text\">Nickname is too short!</FormHelperText>\n                            )}\n                            {!this.state.isFormValid && this.state.nickname.length >= 20 && (\n                                <FormHelperText id=\"name-error-text\">Nickname is too long!</FormHelperText>\n                            )}\n                        </FormControl>\n                    ) : (\n                        <div onClick={this.toggleNicknameForm}>\n                            <span id=\"nickname\">{this.props.user.getNickname()}</span>\n                            {this.props.user.isLocal() && <span id=\"\"> (edit)</span>}\n                        </div>\n                    )}\n                </div>\n\n                {this.props.user !== undefined && this.props.user.getStreamManager() !== undefined ? (\n                    <div className=\"streamComponent\">\n                        <OvVideoComponent user={this.props.user} mutedSound={this.state.mutedSound} />\n                        <div id=\"statusIcons\">\n                            {!this.props.user.isVideoActive() ? (\n                                <div id=\"camIcon\">\n                                    <VideocamOff id=\"statusCam\" />\n                                </div>\n                            ) : null}\n\n                            {!this.props.user.isAudioActive() ? (\n                                <div id=\"micIcon\">\n                                    <MicOff id=\"statusMic\" />\n                                </div>\n                            ) : null}\n                        </div>\n                        <div>\n                            {!this.props.user.isLocal() && (\n                                <IconButton id=\"volumeButton\" onClick={this.toggleSound}>\n                                    {this.state.mutedSound ? <VolumeOff color=\"secondary\" /> : <VolumeUp />}\n                                </IconButton>\n                            )}\n                        </div>\n                    </div>\n                ) : null}\n            </div>\n        );\n    }\n}\n"]},"metadata":{},"sourceType":"module"}